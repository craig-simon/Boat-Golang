package api

import (
	"encoding/json"
	"reflect"
	"testing"
)

func TestUploadImage(t *testing.T) {
	photo := "data:image/jpeg;base64,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"
	test := func(width, height int, expect *Response) {
		req := &Request{
			Image: &Image{
				Tag:    "picture.jfif",
				Width:  width,
				Height: height,
				Data:   photo,
			},
		}
		resp := UploadImage(req, nil)
		if !reflect.DeepEqual(resp, expect) {
			actualJSON, _ := json.Marshal(resp)
			expectJSON, _ := json.Marshal(expect)
			t.Errorf("uploadImage wrong result\n  actual:%s\n  expect:%s\n", actualJSON, expectJSON)
		}
	}
	test(0, 0, &Response{ErrorCode: "NeedImageWidthHeight"})
	test(400, 600, &Response{ErrorCode: "BadImageWidthHeight"})
	test(200, 200, &Response{
		Image: &Image{
			Tag:    "picture.jfif",
			URL:    "/i/44b09dde7ccdbb0c162e5f289031634c.jpg",
			Width:  200,
			Height: 200,
		},
	})
	test(600, 400, &Response{
		Image: &Image{
			Tag:    "picture.jfif",
			URL:    "/i/4e165ab1f2300bae910e0874b1032bd5.jpg",
			Width:  600,
			Height: 400,
		},
	})
}
